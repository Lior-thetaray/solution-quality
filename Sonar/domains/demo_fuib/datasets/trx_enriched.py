from thetaray.api.solution import DataSet, Field, DataType, IngestionMode


def entities():
    return [trx_enriched_dataset()]

def trx_enriched_dataset():
    return DataSet(
        identifier='trx_enriched',
        display_name='trx_enriched',
        ingestion_mode=IngestionMode.APPEND,
        data_permission='dpv:demo_fuib',
        publish=True,
        primary_key=['txn_id'],
        num_of_partitions=1,
        num_of_buckets=1,
        occurred_on_field='txn_ts',
        field_list=[
			Field(identifier='txn_id', display_name='Transaction ID', data_type=DataType.STRING, array_indicator=False),
			Field(identifier='txn_ts', display_name='Transaction Datetime', data_type=DataType.TIMESTAMP, array_indicator=False),
			Field(identifier='txn_date', display_name='Transaction Date', data_type=DataType.TIMESTAMP, array_indicator=False),
			Field(identifier='customer_id', display_name='Customer ID', data_type=DataType.STRING, array_indicator=False),
			Field(identifier='account_id', display_name='Account ID', data_type=DataType.STRING, array_indicator=False),
			Field(identifier='customer_type', display_name='Customer Type', data_type=DataType.STRING, array_indicator=False),
			Field(identifier='customer_name', display_name='Customer Name', data_type=DataType.STRING, array_indicator=False),
			Field(identifier='date_of_birth', display_name='Date of Birth', data_type=DataType.TIMESTAMP, array_indicator=False),
			Field(identifier='address_full', display_name='Customer Address', data_type=DataType.STRING, array_indicator=False),
			Field(identifier='occupation', display_name='Customer Occupation', data_type=DataType.STRING, array_indicator=False),
			Field(identifier='pep_indicator', display_name='PEP Indicator', data_type=DataType.BOOLEAN, array_indicator=False),
			Field(identifier='industry_code', display_name='Customer Industry Code', data_type=DataType.STRING, array_indicator=False),
			Field(identifier='account_open_months', display_name='Account Open Months', data_type=DataType.LONG, array_indicator=False),
			Field(identifier='whitelist_flag', display_name='Whitelist Flag', data_type=DataType.BOOLEAN, array_indicator=False),
			Field(identifier='direction', display_name='Transaction Direction', data_type=DataType.STRING, array_indicator=False),
			Field(identifier='method', display_name='Transaction Method', data_type=DataType.STRING, array_indicator=False),
			Field(identifier='amount', display_name='Transaction Original Amount', data_type=DataType.DOUBLE, array_indicator=False),
			Field(identifier='currency', display_name='Currency', data_type=DataType.STRING, array_indicator=False),
			Field(identifier='amount_usd', display_name='Transaction Amount USD', data_type=DataType.DOUBLE, array_indicator=False),
			Field(identifier='purpose_code', display_name='Purpose Code', data_type=DataType.STRING, array_indicator=False),
			Field(identifier='cross_border_flag', display_name='Cross Border Flag', data_type=DataType.BOOLEAN, array_indicator=False),
			Field(identifier='declared_counterparty_name', display_name='Counterparty Declared Name', data_type=DataType.STRING, array_indicator=False),
			Field(identifier='balance_after_txn', display_name='Balance After Transaction', data_type=DataType.DOUBLE, array_indicator=False),
			Field(identifier='is_split_component', display_name='Is Split Component', data_type=DataType.BOOLEAN, array_indicator=False),
			Field(identifier='cp_id', display_name='Counterparty ID', data_type=DataType.STRING, array_indicator=False),
			Field(identifier='cp_type', display_name='Counterparty Type', data_type=DataType.STRING, array_indicator=False),
			Field(identifier='cp_jurisdiction', display_name='Counterparty Jurisdiction', data_type=DataType.STRING, array_indicator=False),
			Field(identifier='cp_known_shell_flag', display_name='Counterparty Known Shell Flag', data_type=DataType.BOOLEAN, array_indicator=False),
			Field(identifier='cp_is_bank_customer', display_name='Counterparty Is Bank Customer', data_type=DataType.BOOLEAN, array_indicator=False),
			Field(identifier='counterparty_name', display_name='Counterparty Name', data_type=DataType.STRING, array_indicator=False),
			Field(identifier='counterparty_address', display_name='Counterparty Address', data_type=DataType.STRING, array_indicator=False),
			Field(identifier='counterparty_ip', display_name='Counterparty IP', data_type=DataType.STRING, array_indicator=False),
			Field(identifier='endpoint_type', display_name='Endpoint Type', data_type=DataType.STRING, array_indicator=False),
			Field(identifier='ip_hash', display_name='Customer IP', data_type=DataType.STRING, array_indicator=False),
			Field(identifier='device_id_hash', display_name='Device ID Hash', data_type=DataType.STRING, array_indicator=False),
			Field(identifier='geo_lat', display_name='Geo Lat', data_type=DataType.DOUBLE, array_indicator=False),
			Field(identifier='geo_lon', display_name='Geo Lon', data_type=DataType.DOUBLE, array_indicator=False),
			Field(identifier='atm_id', display_name='ATM ID', data_type=DataType.STRING, array_indicator=False),
			Field(identifier='withdrawal_channel', display_name='Withdrawal Channel', data_type=DataType.STRING, array_indicator=False),
			Field(identifier='pos_terminal_id', display_name='POS Terminal ID', data_type=DataType.STRING, array_indicator=False),
			Field(identifier='rep_id_hash', display_name='Rep ID Hash', data_type=DataType.STRING, array_indicator=False),
			Field(identifier='address_hash', display_name='Address Hash', data_type=DataType.STRING, array_indicator=False),
			Field(identifier='website_hash', display_name='Website Hash', data_type=DataType.STRING, array_indicator=False),
			Field(identifier='scenario_type', display_name='Scenario Type', data_type=DataType.STRING, array_indicator=False),
			Field(identifier='scenario_role', display_name='Scenario Role', data_type=DataType.STRING, array_indicator=False),
			Field(identifier='anomaly_flag', display_name='anomaly_flag', data_type=DataType.BOOLEAN, array_indicator=False),
			Field(identifier='cp_country_risk_level', display_name='Counterparty Country Risk Level', data_type=DataType.STRING, array_indicator=False),
			Field(identifier='is_new_account', display_name='Is New Account', data_type=DataType.BOOLEAN, array_indicator=False),
			Field(identifier='day_offset', display_name='day_offset', data_type=DataType.LONG, array_indicator=False),
			Field(identifier='month_offset', display_name='month_offset', data_type=DataType.LONG, array_indicator=False),
			Field(identifier='year_month', display_name='Year Month', data_type=DataType.TIMESTAMP, array_indicator=False),
			Field(identifier='is_me_to_me', display_name='is_me_to_me', data_type=DataType.BOOLEAN, array_indicator=False),
            Field(identifier='dataset_type', display_name='dataset_type', data_type=DataType.STRING, array_indicator=False)
		],
    )

